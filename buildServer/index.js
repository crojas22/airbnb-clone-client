'use strict';

var express = require('express');
var config = require('./config');
var serverRenderer = require("./serverRender");
var compression = require('compression');
var Loadable = require('react-loadable');

var app = express();
app.use(compression());

app.get(['/', '/listing/home/:id', '/listing/experience/:id'], serverRenderer);

app.use(express.static('build'));

Loadable.preloadAll().then(function () {
  app.listen(config.port, config.host, function () {
    return console.info('Express is listening on port ' + config.port);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9pbmRleC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImNvbmZpZyIsInNlcnZlclJlbmRlcmVyIiwiY29tcHJlc3Npb24iLCJMb2FkYWJsZSIsImFwcCIsInVzZSIsImdldCIsInN0YXRpYyIsInByZWxvYWRBbGwiLCJ0aGVuIiwibGlzdGVuIiwicG9ydCIsImhvc3QiLCJjb25zb2xlIiwiaW5mbyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxVQUFVQyxRQUFRLFNBQVIsQ0FBaEI7QUFDQSxJQUFNQyxTQUFTRCxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQU1FLGlCQUFpQkYsUUFBUSxnQkFBUixDQUF2QjtBQUNBLElBQU1HLGNBQWNILFFBQVEsYUFBUixDQUFwQjtBQUNBLElBQU1JLFdBQVdKLFFBQVEsZ0JBQVIsQ0FBakI7O0FBRUEsSUFBTUssTUFBTU4sU0FBWjtBQUNBTSxJQUFJQyxHQUFKLENBQVFILGFBQVI7O0FBRUFFLElBQUlFLEdBQUosQ0FBUSxDQUFDLEdBQUQsRUFBTSxtQkFBTixFQUEyQix5QkFBM0IsQ0FBUixFQUErREwsY0FBL0Q7O0FBRUFHLElBQUlDLEdBQUosQ0FBUVAsUUFBUVMsTUFBUixDQUFlLE9BQWYsQ0FBUjs7QUFFQUosU0FBU0ssVUFBVCxHQUFzQkMsSUFBdEIsQ0FBMkIsWUFBTTtBQUMvQkwsTUFBSU0sTUFBSixDQUFXVixPQUFPVyxJQUFsQixFQUF3QlgsT0FBT1ksSUFBL0IsRUFBcUM7QUFBQSxXQUFNQyxRQUFRQyxJQUFSLG1DQUE2Q2QsT0FBT1csSUFBcEQsQ0FBTjtBQUFBLEdBQXJDO0FBQ0QsQ0FGRCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpO1xuY29uc3Qgc2VydmVyUmVuZGVyZXIgPSByZXF1aXJlKFwiLi9zZXJ2ZXJSZW5kZXJcIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoJ2NvbXByZXNzaW9uJyk7XG5jb25zdCBMb2FkYWJsZSA9IHJlcXVpcmUoJ3JlYWN0LWxvYWRhYmxlJyk7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29tcHJlc3Npb24oKSk7XG5cbmFwcC5nZXQoWycvJywgJy9saXN0aW5nL2hvbWUvOmlkJywgJy9saXN0aW5nL2V4cGVyaWVuY2UvOmlkJ10sIHNlcnZlclJlbmRlcmVyKTtcblxuYXBwLnVzZShleHByZXNzLnN0YXRpYygnYnVpbGQnKSk7XG5cbkxvYWRhYmxlLnByZWxvYWRBbGwoKS50aGVuKCgpID0+IHtcbiAgYXBwLmxpc3Rlbihjb25maWcucG9ydCwgY29uZmlnLmhvc3QsICgpID0+IGNvbnNvbGUuaW5mbyhgRXhwcmVzcyBpcyBsaXN0ZW5pbmcgb24gcG9ydCAke2NvbmZpZy5wb3J0fWApKTtcbn0pOyJdfQ==